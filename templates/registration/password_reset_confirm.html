<!-- File: Rita_All_Django/templates/registration/password_reset_confirm.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Tạo mật khẩu mới{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/account_style.css' %}">
{% endblock %}

{% block content %}
<div class="auth-page">
    <div class="auth-shell single">
        <div class="auth-card">
            {% if validlink %}
                <h1>Đặt lại mật khẩu</h1>
                <p class="auth-subtitle">Nhập mật khẩu mới của bạn hai lần để xác nhận.</p>
                <form method="post" class="auth-form">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="form-field">
                            <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
                            {{ field }}
                            {% if field.help_text %}
                                <div class="form-help">{{ field.help_text }}</div>
                            {% endif %}
                            <div class="form-error">{% if field.errors %}{{ field.errors.0 }}{% endif %}</div>
                        </div>
                    {% endfor %}
                    <button type="submit" class="btn btn-primary btn-full">Lưu mật khẩu mới</button>
                </form>
            {% else %}
                <h1>Liên kết không hợp lệ</h1>
                <p class="auth-subtitle">Liên kết đặt lại mật khẩu này đã được sử dụng hoặc đã hết hạn. Hãy yêu cầu một liên kết mới.</p>
                <a href="{% url 'core:password_reset' %}" class="btn btn-primary">Yêu cầu liên kết mới</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
