{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/homepage_style.css' %}">
    <style>
        /* New styles for the language switcher */
        .lang-switcher {
            display: flex;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 999px; /* Pill shape */
            padding: 4px;
            align-items: center;
        }

        .lang-btn {
            background-color: transparent;
            border: none;
            color: #a0aec0; /* A light gray for inactive */
            padding: 6px 12px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 600;
            line-height: 1; /* Ensure consistent height */
            transition: all 0.3s ease;
        }

        .lang-btn.active {
            background-color: rgba(255, 255, 255, 0.15);
            color: #ffffff; /* White for active */
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        /* CSS Fix for the About section grid */
        .about-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem; /* Adjust gap to match theme */
        }
        
        /* Responsive fix for the grid */
        @media (max-width: 768px) {
            .about-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
{% endblock %}

{% block content %}
<div class="page-wrapper">
    <div class="bg-effects">
        <div class="glow top-left"></div>
        <div class="glow bottom-right"></div>
    </div>

    <nav id="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <a href="{% url 'core:homepage' %}" class="logo">
                    <img src="https://res.cloudinary.com/dd7gti2kn/image/upload/v1752353858/Rita_logo__gjytjk.png" alt="Rita Logo" class="logo-image">
                    <span>Rita AI Suite</span>
                </a>
                <div class="nav-menu-desktop">
                    <a href="#features" class="nav-link" data-translate-key="nav_features">Tính năng</a>
                    <a href="#workflow" class="nav-link" data-translate-key="nav_workflow">Quy trình</a>
                    <a href="#about" class="nav-link" data-translate-key="nav_about">Giới thiệu</a>
                </div>
                <div class="nav-actions">
                    <div class="lang-switcher">
                        <button id="lang-vi" class="lang-btn active">VI</button>
                        <button id="lang-en" class="lang-btn">EN</button>
                    </div>
                    <a href="{% url 'core:login_view' %}" class="nav-btn" data-translate-key="nav_signin">Đăng nhập</a>
                    <button id="mobile-menu-button" class="mobile-menu-button" aria-label="Toggle menu">
                        <div class="hamburger-wrapper">
                            <span id="line1" class="hamburger-line"></span>
                            <span id="line2" class="hamburger-line"></span>
                            <span id="line3" class="hamburger-line"></span>
                        </div>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="mobile-menu-container">
            <div class="mobile-menu-links">
                <a href="#features" class="mobile-nav-link" data-translate-key="nav_features_mobile">Tính năng</a>
                <a href="#workflow" class="mobile-nav-link" data-translate-key="nav_workflow_mobile">Quy trình</a>
                <a href="#about" class="mobile-nav-link" data-translate-key="nav_about_mobile">Giới thiệu</a>
                <a href="{% url 'core:login_view' %}" class="mobile-nav-link nav-btn-mobile" data-translate-key="nav_signin_mobile">Đăng nhập</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="home-hero" id="home">
            <div class="container hero-grid">
                <div class="hero-copy">
                    <div class="hero-label" data-translate-key="hero_label">Trợ lý AI đa công cụ</div>
                    <h1 data-translate-key="hero_title">Sức mạnh của AI trong tầm tay bạn.</h1>
                    <p data-translate-key="hero_subtitle">Rita Suite biến các công việc phức tạp như phân tích, sáng tạo hay thu thập thông tin thành những thao tác đơn giản, tất cả trong một không gian làm việc duy nhất.</p>
                    <div class="hero-actions">
                        <a href="{% url 'core:register' %}" class="btn btn-primary" data-translate-key="hero_get_started">Dùng thử miễn phí</a>
                        <a href="#features" class="btn btn-outline" data-translate-key="hero_learn_more">Khám phá tính năng</a>
                    </div>
                    <ul class="hero-highlights">
                        <li class="highlight-item"><span>⚡</span><p data-translate-key="highlight_1">Phản hồi realtime & lưu lịch sử</p></li>
                        <li class="highlight-item"><span>🧠</span><p data-translate-key="highlight_2">Gợi ý bước tiếp dựa trên ngữ cảnh</p></li>
                        <li class="highlight-item"><span>🔐</span><p data-translate-key="highlight_3">Kiểm soát dữ liệu rõ ràng</p></li>
                    </ul>
                </div>
                <div class="hero-preview">
                    <div class="preview-window">
                        <div class="preview-header">
                            <span data-translate-key="preview_header">Rita đang hỗ trợ</span>
                            <div class="preview-status" data-translate-key="preview_status">Realtime</div>
                        </div>
                        <div class="preview-body">
                            <div class="preview-message user" data-translate-key="preview_msg_1">Tóm tắt giúp mình báo cáo bán hàng tuần trước nhé.</div>
                            <div class="preview-message assistant" data-translate-key="preview_msg_2">Đã chuẩn bị xong. Bạn muốn nhận dạng bullet hay bảng?</div>
                            <div class="preview-message assistant highlight" data-translate-key="preview_msg_3">• Doanh thu tăng 18% nhờ remarketing.<br>• Tỷ lệ bỏ giỏ cao ở bước thanh toán (+9%).<br>• Nên chạy ưu đãi 48h để kéo lại khách hàng.</div>
                            <div class="preview-footer">
                                <button class="chip" data-translate-key="preview_chip_1">Tạo email recap</button>
                                <button class="chip" data-translate-key="preview_chip_2">Phân tích sâu hơn</button>
                            </div>
                        </div>
                    </div>
                    <div class="preview-card-stack">
                        <div class="stack-card" data-translate-key="stack_1">📊 Báo cáo TikTok đã sẵn sàng</div>
                        <div class="stack-card" data-translate-key="stack_2">🧩 Web scraper: 32 bản ghi mới</div>
                    </div>
                </div>
            </div>
            <a href="#features" class="hero-scroll" aria-label="Scroll xuống"><span></span></a>
        </section>

        <section id="features" class="section features">
            <div class="container">
                <div class="section-heading">
                    <span class="section-eyebrow" data-translate-key="features_eyebrow">Tính năng</span>
                    <h2 data-translate-key="features_title_section">Rita đồng bộ mọi tác vụ bạn đang làm dở</h2>
                    <p data-translate-key="features_subtitle_section">Chọn công cụ phù hợp và chuyển đổi giữa chúng mượt mà trong cùng một giao diện.</p>
                </div>
                <div class="feature-grid">
                    <article class="feature-card"><div class="feature-icon">💬</div><h3 data-translate-key="feature_1_title">Chat đa ngữ cảnh</h3><p data-translate-key="feature_1_desc">Đặt câu hỏi, tạo nội dung, và nhận phản hồi thông minh dựa trên ngữ cảnh cuộc trò chuyện.</p></article>
                    <article class="feature-card"><div class="feature-icon">📂</div><h3 data-translate-key="feature_2_title">Phân tích tài liệu</h3><p data-translate-key="feature_2_desc">Tải lên các tệp PDF, DOCX, XLSX và đặt câu hỏi trực tiếp về nội dung bên trong.</p></article>
                    <article class="feature-card"><div class="feature-icon">🌐</div><h3 data-translate-key="feature_3_title">Tra cứu Web</h3><p data-translate-key="feature_3_desc">Cho phép Rita truy cập Internet để có câu trả lời cập nhật về các sự kiện mới nhất.</p></article>
                    <article class="feature-card"><div class="feature-icon">🎥</div><h3 data-translate-key="feature_4_title">Phân tích TikTok</h3><p data-translate-key="feature_4_desc">Trích transcript, insight khán giả và gợi ý nội dung tái sử dụng chỉ trong vài giây.</p></article>
                    <article class="feature-card"><div class="feature-icon">🧩</div><h3 data-translate-key="feature_5_title">Web Scraper AI</h3><p data-translate-key="feature_5_desc">Thu thập dữ liệu có cấu trúc từ bất kỳ trang web nào và xuất ra file JSON hoặc CSV.</p></article>
                    <article class="feature-card"><div class="feature-icon">📍</div><h3 data-translate-key="feature_6_title">Theo dõi vị trí</h3><p data-translate-key="feature_6_desc">Tạo link theo dõi kèm tùy chọn xin phép để xem lịch sử truy cập của người dùng.</p></article>
                </div>
            </div>
        </section>

        <section id="workflow" class="section workflow">
            <div class="container">
                <div class="section-heading">
                    <span class="section-eyebrow" data-translate-key="workflow_eyebrow">Quy trình gợi ý</span>
                    <h2 data-translate-key="workflow_title">Bắt đầu trong 3 bước</h2>
                </div>
                <div class="workflow-grid">
                    <div class="workflow-step"><div class="step-index">1</div><h3 data-translate-key="step_1_title">Chọn công cụ</h3><p data-translate-key="step_1_desc">Bắt đầu bằng việc chọn một công cụ phù hợp: Chat, Phân tích TikTok, Trích xuất Web, hay Theo dõi Vị trí.</p></div>
                    <div class="workflow-step"><div class="step-index">2</div><h3 data-translate-key="step_2_title">Cung cấp đầu vào</h3><p data-translate-key="step_2_desc">Dán một đường link, tải lên tài liệu hoặc nhập yêu cầu. Mỗi công cụ được tối ưu để xử lý loại dữ liệu riêng.</p></div>
                    <div class="workflow-step"><div class="step-index">3</div><h3 data-translate-key="step_3_title">Nhận kết quả & Lưu trữ</h3><p data-translate-key="step_3_desc">Xem phân tích, nhận câu trả lời, hoặc tải dữ liệu. Mọi hoạt động được lưu trong lịch sử của từng công cụ.</p></div>
                </div>
            </div>
        </section>

        <section id="about" class="section about">
            <div class="container">
                <div class="section-heading">
                    <span class="section-eyebrow" data-translate-key="about_eyebrow">Về Rita</span>
                    <h2 data-translate-key="about_title">Xây dựng bộ trợ lý AI cá nhân hoá</h2>
                    <p data-translate-key="about_subtitle">Rita AI Suite được tạo ra để gom những thao tác hằng ngày vào một không gian duy nhất, tối ưu cho tốc độ và trải nghiệm người dùng.</p>
                </div>
                <div class="about-grid">
                    <div class="about-card">
                        <h3 data-translate-key="about_card_1_title">Điều khiến Rita khác biệt</h3>
                        <p data-translate-key="about_card_1_desc">Mỗi công cụ trong bộ sưu tập được thiết kế để giải quyết một nhu cầu cụ thể. Tuy hoạt động độc lập, tất cả đều được tích hợp trong một giao diện duy nhất, giúp bạn chuyển đổi công việc liền mạch.</p>
                    </div>
                    <div class="about-card">
                        <h3 data-translate-key="about_card_2_title">Nguyên tắc phát triển</h3>
                        <ul class="about-list">
                            <li data-translate-key="about_list_1">Tập trung vào tốc độ phản hồi và độ rõ ràng của kết quả.</li>
                            <li data-translate-key="about_list_2">Ưu tiên minh bạch: luôn hiển thị trạng thái xử lý của tác vụ.</li>
                            <li data-translate-key="about_list_3">Thiết kế trước tiên cho cảm giác sử dụng hiệu quả hàng ngày.</li>
                        </ul>
                        <div class="about-actions">
                            <a href="mailto:Lequyphat0123@gmail.com" class="btn-link" data-translate-key="about_link">Gửi góp ý →</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="cta-section">
            <h2 data-translate-key="cta_title">Sẵn sàng để khám phá?</h2>
            <p data-translate-key="cta_subtitle">Tham gia cùng hàng ngàn người dùng đang tận dụng sức mạnh của Rita để làm việc hiệu quả hơn.</p>
            <a href="{% url 'core:register' %}" class="btn btn-primary" data-translate-key="cta_button">Tạo tài khoản ngay</a>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-translate-key="footer_copyright">© 2025 Rita AI Suite. Developed by Lequyphat.</p>
        </div>
    </footer>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Language Switcher ---
    const translations = {
        vi: {
            nav_features: "Tính năng",
            nav_workflow: "Quy trình",
            nav_about: "Giới thiệu",
            nav_signin: "Đăng nhập",
            nav_features_mobile: "Tính năng",
            nav_workflow_mobile: "Quy trình",
            nav_about_mobile: "Giới thiệu",
            nav_signin_mobile: "Đăng nhập",
            hero_label: "Trợ lý AI đa công cụ",
            hero_title: "Sức mạnh của AI trong tầm tay bạn.",
            hero_subtitle: "Rita Suite biến các công việc phức tạp như phân tích, sáng tạo hay thu thập thông tin thành những thao tác đơn giản, tất cả trong một không gian làm việc duy nhất.",
            hero_get_started: "Dùng thử miễn phí",
            hero_learn_more: "Khám phá tính năng",
            highlight_1: "Phản hồi realtime & lưu lịch sử",
            highlight_2: "Gợi ý bước tiếp dựa trên ngữ cảnh",
            highlight_3: "Kiểm soát dữ liệu rõ ràng",
            preview_header: "Rita đang hỗ trợ",
            preview_status: "Realtime",
            preview_msg_1: "Tóm tắt giúp mình báo cáo bán hàng tuần trước nhé.",
            preview_msg_2: "Đã chuẩn bị xong. Bạn muốn nhận dạng bullet hay bảng?",
            preview_msg_3: "• Doanh thu tăng 18% nhờ remarketing.<br>• Tỷ lệ bỏ giỏ cao ở bước thanh toán (+9%).<br>• Nên chạy ưu đãi 48h để kéo lại khách hàng.",
            preview_chip_1: "Tạo email recap",
            preview_chip_2: "Phân tích sâu hơn",
            stack_1: "📊 Báo cáo TikTok đã sẵn sàng",
            stack_2: "🧩 Web scraper: 32 bản ghi mới",
            features_eyebrow: "Tính năng",
            features_title_section: "Rita đồng bộ mọi tác vụ bạn đang làm dở",
            features_subtitle_section: "Chọn công cụ phù hợp và chuyển đổi giữa chúng mượt mà trong cùng một giao diện.",
            feature_1_title: "Chat đa ngữ cảnh",
            feature_1_desc: "Đặt câu hỏi, tạo nội dung, và nhận phản hồi thông minh dựa trên ngữ cảnh cuộc trò chuyện.",
            feature_2_title: "Phân tích tài liệu",
            feature_2_desc: "Tải lên các tệp PDF, DOCX, XLSX và đặt câu hỏi trực tiếp về nội dung bên trong.",
            feature_3_title: "Tra cứu Web",
            feature_3_desc: "Cho phép Rita truy cập Internet để có câu trả lời cập nhật về các sự kiện mới nhất.",
            feature_4_title: "Phân tích TikTok",
            feature_4_desc: "Trích transcript, insight khán giả và gợi ý nội dung tái sử dụng chỉ trong vài giây.",
            feature_5_title: "Web Scraper AI",
            feature_5_desc: "Thu thập dữ liệu có cấu trúc từ bất kỳ trang web nào và xuất ra file JSON hoặc CSV.",
            feature_6_title: "Theo dõi vị trí",
            feature_6_desc: "Tạo link theo dõi kèm tùy chọn xin phép để xem lịch sử truy cập của người dùng.",
            workflow_eyebrow: "Quy trình gợi ý",
            workflow_title: "Bắt đầu trong 3 bước",
            step_1_title: "Chọn công cụ",
            step_1_desc: "Bắt đầu bằng việc chọn một công cụ phù hợp: Chat, Phân tích TikTok, Trích xuất Web, hay Theo dõi Vị trí.",
            step_2_title: "Cung cấp đầu vào",
            step_2_desc: "Dán một đường link, tải lên tài liệu hoặc nhập yêu cầu. Mỗi công cụ được tối ưu để xử lý loại dữ liệu riêng.",
            step_3_title: "Nhận kết quả & Lưu trữ",
            step_3_desc: "Xem phân tích, nhận câu trả lời, hoặc tải dữ liệu. Mọi hoạt động được lưu trong lịch sử của từng công cụ.",
            cta_title: "Sẵn sàng để khám phá?",
            cta_subtitle: "Tham gia cùng hàng ngàn người dùng đang tận dụng sức mạnh của Rita để làm việc hiệu quả hơn.",
            cta_button: "Tạo tài khoản ngay",
            about_eyebrow: "Về Rita",
            about_title: "Xây dựng bộ trợ lý AI cá nhân hoá",
            about_subtitle: "Rita AI Suite được tạo ra để gom những thao tác hằng ngày vào một không gian duy nhất, tối ưu cho tốc độ và trải nghiệm người dùng.",
            about_card_1_title: "Điều khiến Rita khác biệt",
            about_card_1_desc: "Mỗi công cụ trong bộ sưu tập được thiết kế để giải quyết một nhu cầu cụ thể. Tuy hoạt động độc lập, tất cả đều được tích hợp trong một giao diện duy nhất, giúp bạn chuyển đổi công việc liền mạch.",
            about_card_2_title: "Nguyên tắc phát triển",
            about_list_1: "Tập trung vào tốc độ phản hồi và độ rõ ràng của kết quả.",
            about_list_2: "Ưu tiên minh bạch: luôn hiển thị trạng thái xử lý của tác vụ.",
            about_list_3: "Thiết kế trước tiên cho cảm giác sử dụng hiệu quả hàng ngày.",
            about_link: "Gửi góp ý →",
            footer_copyright: "© 2025 Rita AI Suite. Developed by Lequyphat."
        },
        en: {
            nav_features: "Features",
            nav_workflow: "Workflow",
            nav_about: "About",
            nav_signin: "Sign In",
            nav_features_mobile: "Features",
            nav_workflow_mobile: "Workflow",
            nav_about_mobile: "About",
            nav_signin_mobile: "Sign In",
            hero_label: "Multi-Tool AI Assistant",
            hero_title: "The power of AI in the palm of your hand.",
            hero_subtitle: "Rita Suite transforms complex tasks like analysis, creation, or information gathering into simple actions, all in a single workspace.",
            hero_get_started: "Try for free",
            hero_learn_more: "Explore features",
            highlight_1: "Real-time feedback & history",
            highlight_2: "Context-aware suggestions",
            highlight_3: "Clear data control",
            preview_header: "Rita is assisting",
            preview_status: "Realtime",
            preview_msg_1: "Please summarize last week's sales report.",
            preview_msg_2: "Done. Do you want it in bullets or a table?",
            preview_msg_3: "• Revenue up 18% due to remarketing.<br>• High cart abandonment at checkout (+9%).<br>• Should run a 48h offer to win back customers.",
            preview_chip_1: "Create recap email",
            preview_chip_2: "Analyze deeper",
            stack_1: "📊 TikTok report is ready",
            stack_2: "🧩 Web scraper: 32 new records",
            features_eyebrow: "Features",
            features_title_section: "Rita syncs every task you're working on",
            features_subtitle_section: "Choose the right tool and switch between them smoothly within the same interface.",
            feature_1_title: "Contextual Chat",
            feature_1_desc: "Ask questions, create content, and get intelligent responses based on the conversation's context.",
            feature_2_title: "Document Analysis",
            feature_2_desc: "Upload PDF, DOCX, XLSX files and ask questions directly about their content.",
            feature_3_title: "Web Search",
            feature_3_desc: "Allow Rita to access the internet for up-to-date answers on recent events.",
            feature_4_title: "TikTok Analysis",
            feature_4_desc: "Extract transcripts, audience insights, and content repurposing suggestions in seconds.",
            feature_5_title: "AI Web Scraper",
            feature_5_desc: "Gather structured data from any website and export it to JSON or CSV files.",
            feature_6_title: "Location Tracking",
            feature_6_desc: "Create tracking links with an optional consent prompt to view user access history.",
            workflow_eyebrow: "Suggested Workflow",
            workflow_title: "Get started in 3 steps",
            step_1_title: "Choose a tool",
            step_1_desc: "Start by selecting a suitable tool: Chat, TikTok Analysis, Web Scraper, or Location Tracker.",
            step_2_title: "Cung cấp đầu vào",
            step_2_desc: "Paste a link, upload a document, or type a request. Each tool is optimized for its specific data type.",
            step_3_title: "Nhận kết quả & Lưu trữ",
            step_3_desc: "View analyses, get answers, or download data. All activities are saved in each tool's history.",
            cta_title: "Ready to dive in?",
            cta_subtitle: "Join thousands of users leveraging the power of Rita to work smarter.",
            cta_button: "Create an Account",
            about_eyebrow: "About Rita",
            about_title: "Building a personalized AI assistant suite",
            about_subtitle: "Rita AI Suite was created to bring everyday tasks into a single space, optimized for speed and user experience.",
            about_card_1_title: "What makes Rita different",
            about_card_1_desc: "Each tool in the collection is designed to solve a specific need. Although they operate independently, they are all integrated into a single interface, helping you switch tasks seamlessly.",
            about_card_2_title: "Development Principles",
            about_list_1: "Focus on response speed and clarity of results.",
            about_list_2: "Prioritize transparency: always display the processing status of tasks.",
            about_list_3: "Design first for an efficient daily use experience.",
            about_link: "Send feedback →",
            footer_copyright: "© 2025 Rita AI Suite. Developed by Lequyphat."
        }
    };

    const langViBtn = document.getElementById('lang-vi');
    const langEnBtn = document.getElementById('lang-en');
    const translatableElements = document.querySelectorAll('[data-translate-key]');

    const setLanguage = (lang) => {
        if (!['vi', 'en'].includes(lang)) return;

        translatableElements.forEach(el => {
            const key = el.dataset.translateKey;
            if (translations[lang][key]) {
                if (key === 'preview_msg_3') {
                    el.innerHTML = translations[lang][key];
                } else {
                    el.textContent = translations[lang][key];
                }
            }
        });

        localStorage.setItem('preferredLanguage', lang);
        
        if (lang === 'vi') {
            langViBtn.classList.add('active');
            langEnBtn.classList.remove('active');
        } else {
            langEnBtn.classList.add('active');
            langViBtn.classList.remove('active');
        }
    };

    langViBtn.addEventListener('click', () => setLanguage('vi'));
    langEnBtn.addEventListener('click', () => setLanguage('en'));

    const savedLang = localStorage.getItem('preferredLanguage') || 'vi';
    setLanguage(savedLang);

    // --- Mobile Menu & Navbar Scroll from homepage_script.js ---
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuLinks = mobileMenu.querySelectorAll('a');
    const navbar = document.getElementById('navbar');

    if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('active');
            mobileMenuButton.classList.toggle('active');
        });

        mobileMenuLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                mobileMenuButton.classList.remove('active');
            });
        });
    }

    if (navbar) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    }
});
</script>
{% endblock %}